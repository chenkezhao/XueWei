package com.xuewei.utils;

import android.content.res.AssetManager;

import com.thoughtworks.xstream.XStream;
import com.xuewei.XWApplication;
import com.xuewei.entity.GroupXueWei;
import com.xuewei.entity.GroupXueWeiList;
import com.xuewei.entity.XueWeiEffect;
import com.xuewei.entity.XueWeiEffectList;

import java.io.IOException;
import java.io.InputStream;

/**
 *
 * Created by Administrator on 2017/3/9.
 */

public class XmlReadUtils {
    public static XmlReadUtils xmlReadUtils;
    private XmlReadUtils(){
    }
    public static XmlReadUtils getInstance(){
        if(xmlReadUtils==null){
            xmlReadUtils = new XmlReadUtils();
        }
        return xmlReadUtils;
    }


    /**
     * 读取xml文件转对象
     * @return
     */
    public GroupXueWeiList fromXMLByGroup(){
        GroupXueWeiList groupXueWeiList;
        try {
            AssetManager assetManager = XWApplication.getInstance().getAssets();
            InputStream ims = assetManager.open("GroupXueWei.xml");
            XStream xstream = new XStream();
            xstream.processAnnotations(GroupXueWeiList.class);
            xstream.processAnnotations(GroupXueWei.class);
            groupXueWeiList = (GroupXueWeiList) xstream.fromXML(ims);
            return  groupXueWeiList;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }

    /**
     * 读取xml文件转对象
     * @return
     */
    public XueWeiEffectList fromXMLByEffect(){
        XueWeiEffectList xueWeiEffectList;
        try {
            AssetManager assetManager = XWApplication.getInstance().getAssets();
            InputStream ims = assetManager.open("XueWeiEffect.xml");
            XStream xstream = new XStream();
            xstream.processAnnotations(XueWeiEffectList.class);
            xstream.processAnnotations(XueWeiEffect.class);
            xueWeiEffectList = (XueWeiEffectList) xstream.fromXML(ims);
            return  xueWeiEffectList;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }

}
